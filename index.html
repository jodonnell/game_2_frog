<HTML>


<CANVAS id='gamewindow'></CANVAS>

<SCRIPT src='variables.js'></SCRIPT>
<SCRIPT>

function incrementAnimationFrame(){
  FRAME++;
  FRAME %= 2;
  setTimeout(incrementAnimationFrame,500)
}
incrementAnimationFrame()


function drawRectangle(xposition,yposition,color,x,y,w,h){
  ctx.fillStyle = color;
  ctx.fillRect(x+xposition,y+yposition,w,h);
}

function drawPlayer(){
  const img = PLAYER_SPR[FRAME]
  img.forEach(block => {
	drawRectangle(player.x,player.y,...block)
  })
}

document.addEventListener('keydown',(e)=>{
	if (e.repeat || player.moveing)return;
	if (e.key == 'ArrowLeft') player.x-=60;
	else if(e.key == 'ArrowRight')player.x+=60;
	else if(e.key == 'ArrowUp')player.y-=60;
})

function checkPlayerBounds(){
  if (player.x >= C_WIDTH) player.x = C_WIDTH - GRID; 
  else if (player.x < 0)player.x = 0;
  else if (player.y < 0)player.y = C_HEIGHT - GRID;
}

function gameLoop(){
requestAnimationFrame(gameLoop)

ctx.fillStyle = BROWN
ctx.fillRect(0,0,C_WIDTH,C_HEIGHT)

checkPlayerBounds()
drawPlayer()

}
gameLoop()

</SCRIPT>
</HTML>